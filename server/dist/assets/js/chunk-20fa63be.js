(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20fa63be"],{"0970":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"table-container"},[e("formGrid",{ref:"formGrid",attrs:{template:t.data},on:{transferEvt:t.fBtnEvt}})],1)])},n=[],c=r("c7eb"),u=r("53ca"),i=r("5530"),s=r("1da1"),o=(r("4de4"),r("d3b7"),r("14d9"),r("d81d"),r("7db0"),r("b0c0"),r("1ef4")),d=r("403a"),b={form1:[{name:"planid",text:"考试计划",type:"combox",change:"fChangeKsjh",data:[],label:"planname",value:"planid",width:"350px"},{name:"subjectcode",text:"考试科目",type:"combox",change:"fChangeKskm",data:[],label:"subjectname",value:"subjectcode",width:"350px"}]},f={},p={form1:{}},m={},l=d["a"].genSubmit(b,p,m),h={grid1:{loading:!1,pagination:!0,border:!1,checkable:!1,objectSpanMethod:!0,controller:{title:"操作",width:200,btns:[{method:"fGoInto",text:"评阅"}]},columns:[{field:"subjectname",title:"考试科目",align:"center"},{field:"systemscore",title:"客观题得分",align:"center",formatter:function(t,e,r){return-1==r?"-":r}},{field:"laborscore",title:"主观题得分",align:"center",formatter:function(t,e,r){return-1==r?"-":r}},{field:"releassetotalscore",title:"总得分",align:"center",formatter:function(t,e,r){return-1==r?"-":r}}],data:{}}},j={btn1:[{name:"查询",icon:"",event:"fSearch",type:"search"}]},g={Form:b,Grid:h,Submit:l.Submit,Btn:j,Url:f,Rules:l.Rules,tabTable:!0,tabList:[{id:"1",name:"待评阅"},{id:"2",name:"已评阅"}],tabActiveId:"1"},O=r("c4b9"),w={components:{formGrid:o["a"]},data:function(){return{data:g,planList:[],subjectList:[]}},created:function(){this.getPlanList()},methods:{fBtnEvt:function(t){var e=this;return Object(s["a"])(Object(c["a"])().mark((function r(){var a;return Object(c["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:console.log("currentPage fBtnEvt evt = ",t),r.t0=t.method,r.next="fGoInto"===r.t0?4:"fChangeTabList"===r.t0?9:"fChangeKsjh"===r.t0?12:"fSizePage"===r.t0?18:"fCurrentPage"===r.t0?20:"fSearch"===r.t0?22:26;break;case 4:if(a=e.planList.filter((function(t){return t.planid===e.data.Submit.form1.planid}))[0]["markstate"],1!=a){r.next=7;break}return r.abrupt("return",d["a"].showMessage("阅卷还未开始，无法进行阅卷！"));case 7:return e.$router.push({name:"startMarking",query:Object(i["a"])(Object(i["a"])({},t.data),{},{planid:e.data.Submit.form1.planid,userId:e.$store.state.user.user.idcard})}),r.abrupt("break",26);case 9:return e.getData({current:e.data.Grid.grid1.data.current,size:e.data.Grid.grid1.data.size,type:t.data}),"2"===t.data?e.data.Grid.grid1.controller=null:e.data.Grid.grid1.controller={title:"操作",width:200,btns:[{method:"fGoInto",text:"评阅"}]},r.abrupt("break",26);case 12:if(!t.data||"object"==Object(u["a"])(t.data)){r.next=17;break}return e.getTabListNum(t.data),r.next=16,e.getKcList(t.data);case 16:e.getData({planid:t.data,current:e.data.Grid.grid1.data.current,size:e.data.Grid.grid1.data.size});case 17:return r.abrupt("break",26);case 18:return e.getData(t.data),r.abrupt("break",26);case 20:return e.getData(t.data),r.abrupt("break",26);case 22:return r.next=24,e.getTabListNum();case 24:return e.getData(t.data),r.abrupt("break",26);case 26:case"end":return r.stop()}}),r)})))()},getData:function(){var t=arguments,e=this;return Object(s["a"])(Object(c["a"])().mark((function r(){var a,n,u;return Object(c["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.length>0&&void 0!==t[0]?t[0]:{},e.$nextTick((function(){e.$refs.formGrid.isLoading=!0})),n={current:a.current||1,size:a.size||10,planid:a.planid||e.data.Submit.form1.planid||"",subjectcode:a.subjectcode||e.data.Submit.form1.subjectcode||"",idcard:e.$store.state.user.user.idcard,type:a.type||e.data.tabActiveId||""},n.planid){r.next=6;break}return e.$refs.formGrid.isLoading=!1,r.abrupt("return");case 6:return r.next=8,Object(O["d"])(n);case 8:u=r.sent,e.data.Grid.grid1.data=u.data||{},e.data.Grid.grid1.data.records=(u.data.records||[]).map((function(t){return t.subjectname=(e.subjectList.find((function(e){return t.subjectcode==e.subjectcode}))||{}).subjectname,t})),e.$nextTick((function(){e.$refs.formGrid.isLoading=!1}));case 12:case"end":return r.stop()}}),r)})))()},getTabListNum:function(){var t=arguments,e=this;return Object(s["a"])(Object(c["a"])().mark((function r(){var a,n,u;return Object(c["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.length>0&&void 0!==t[0]?t[0]:e.data.Submit.form1.planid,a){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,Object(O["f"])({planid:a,idcard:e.$store.state.user.user.idcard});case 5:n=r.sent,u=n.data||{},e.data.tabList=e.data.tabList.map((function(t){return"1"===t.id?t.name="待评阅 （".concat(u.noCompletedNum||0,"）"):t.name="已评阅 （".concat(u.completedNum||0,"）"),t}));case 8:case"end":return r.stop()}}),r)})))()},getPlanList:function(){var t=this;return Object(s["a"])(Object(c["a"])().mark((function e(){var r,a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["h"])({});case 2:if(r=e.sent,t.planList=r.data||[],a=(r.data||[]).filter((function(e){return e.planid===t.data.Submit.form1.planid})),a.length){e.next=9;break}t.data.Submit.form1.planid="",e.next=13;break;case 9:return t.getTabListNum(),e.next=12,t.getKcList();case 12:t.getData();case 13:t.data.Form.form1=t.data.Form.form1.map((function(t){return"planid"===t.name&&(t.data=r.data||[]),t}));case 14:case"end":return e.stop()}}),e)})))()},getKcList:function(){var t=arguments,e=this;return Object(s["a"])(Object(c["a"])().mark((function r(){var a,n,u;return Object(c["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.length>0&&void 0!==t[0]?t[0]:e.data.Submit.form1.planid,a){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,Object(O["n"])({planid:a});case 5:n=r.sent,u=(n.data||[]).filter((function(t){return t.id===e.data.Submit.form1.subjectcode})),u.length||(e.data.Submit.form1.subjectcode=""),e.subjectList=n.data||[],e.data.Form.form1=e.data.Form.form1.map((function(t){return"subjectcode"===t.name&&(t.data=n.data||[]),t}));case 10:case"end":return r.stop()}}),r)})))()}}},k=w,v=(r("2066"),r("2877")),x=Object(v["a"])(k,a,n,!1,null,"2fcfe6c9",null);e["default"]=x.exports},2066:function(t,e,r){"use strict";r("2b62")},"2b62":function(t,e,r){},c4b9:function(t,e,r){"use strict";r.d(e,"h",(function(){return s})),r.d(e,"g",(function(){return o})),r.d(e,"j",(function(){return d})),r.d(e,"b",(function(){return b})),r.d(e,"i",(function(){return f})),r.d(e,"k",(function(){return p})),r.d(e,"c",(function(){return m})),r.d(e,"l",(function(){return l})),r.d(e,"a",(function(){return h})),r.d(e,"p",(function(){return j})),r.d(e,"o",(function(){return g})),r.d(e,"n",(function(){return O})),r.d(e,"d",(function(){return w})),r.d(e,"f",(function(){return k})),r.d(e,"e",(function(){return v})),r.d(e,"q",(function(){return x})),r.d(e,"m",(function(){return y}));var a=r("c7eb"),n=r("1da1"),c=r("b775"),u=r("4328"),i=r.n(u),s=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getendplan",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getendplandetail",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getmarkteacher",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/clearmarkteacher",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getendplansubject",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getmarkteacherbyid",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/distributemarktask",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getmarkteachertask",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/changemarkteachertask",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/resetmarkteachertask",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/markstateconfirm",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getsubjectbyid",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getanswerbyid",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getanswertotalbyid",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getanswercontentbyid",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/submitscore",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(n["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["a"])({url:"marking/getpapercontentbyid",method:"post",data:i.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);