(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ba06582"],{"0f37":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("dca8");var r=Object.freeze({1:"单选题",2:"多选题",3:"判断题",4:"填空题",5:"问答题"})},"323f":function(t,e,n){},"4fad":function(t,e,n){var r=n("d039"),a=n("861d"),s=n("c6b6"),i=n("d86b"),c=Object.isExtensible,u=r((function(){c(1)}));t.exports=u||i?function(t){return!!a(t)&&((!i||"ArrayBuffer"!=s(t))&&(!c||c(t)))}:c},"737e":function(t,e,n){"use strict";n("323f")},bb2f:function(t,e,n){var r=n("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bf29:function(t,e,n){"use strict";n.r(e);n("b0c0");var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"entrance-container"},[e("div",{staticClass:"tab-container"},[e("el-tabs",{staticClass:"my-el-tabs my-el-entrance-tabs",on:{"tab-click":t.handleTabClick},model:{value:t.questionType,callback:function(e){t.questionType=e},expression:"questionType"}},t._l(t.listData,(function(n){return e("el-tab-pane",{key:n.bigid,staticClass:"my-el-entrance-tab-box",attrs:{label:n.name,name:n.bigid}},t._l(n.questionList,(function(n){return e("div",{staticClass:"question-container"},[e("div",{staticClass:"question-box"},[e("span",{staticClass:"index-box"},[t._v(t._s(n.px)+".")]),e("div",{staticClass:"question-title-box",domProps:{innerHTML:t._s(n.topic)}}),e("span",{staticClass:"question-score"},[t._v("（"+t._s(n.score)+"分）")])]),e("div",{staticClass:"student-answer-box answer-box"},[e("p",{staticClass:"answer-desc"},[t._v(" 考生答案：")]),e("div",{staticClass:"answer-content",domProps:{innerHTML:t._s(n.ksxxnr)}})]),e("div",{staticClass:"right-answer-box answer-box"},[e("p",{staticClass:"answer-desc"},[t._v(" 参考答案：")]),e("div",{staticClass:"answer-content question-title-box",domProps:{innerHTML:t._s(n.referenceanswer)}})]),e("div",{staticClass:"give-score-box answer-box"},[e("span",{staticClass:"answer-desc"},[t._v(" 给分板：")]),e("el-input",{staticClass:"input-score",attrs:{size:"mini",type:"number"},on:{change:function(e){return t.inputChange(e,n)}},model:{value:n.scoreValue,callback:function(e){t.$set(n,"scoreValue",e)},expression:"item.scoreValue"}}),e("span",{staticClass:"score-desc"},[t._v("不能超过本题的最大分值")])],1)])})),0)})),1)],1),e("div",{staticClass:"score-container"},[e("div",{staticClass:"score-title"},[t._v("得分板")]),e("div",{staticClass:"lesson-box"},[e("i",{staticClass:"el-icon-s-unfold"}),e("span",{staticStyle:{"margin-left":"3px"}},[t._v(t._s(t.queryData.subjectname||"-"))])]),e("div",{staticClass:"score-content"},[e("div",t._l(t.scoreListData.questionList,(function(n){return e("div",{staticClass:"content-item"},[e("span",{staticClass:"title-style"},[t._v(t._s(n.px)+"题")]),e("span",{staticClass:"dashed-style"}),e("span",{staticClass:"score-style"},[t._v(t._s(n.scoreValue||0===n.scoreValue?n.scoreValue+"分":"-"))])])})),0)]),e("div",{staticClass:"score-foot"},[e("div",{staticClass:"score-total"},[e("span",{staticClass:"solid-box"}),e("span",{staticClass:"score-box"},[t._v("得分："+t._s(t.totalScore||"-")+"分")]),e("span",{staticClass:"solid-box"})]),e("div",{staticClass:"btn-container"},[e("el-button",{staticClass:"submitBtn",attrs:{size:"mini"},on:{click:t.submitScore}},[t._v("提交分数")])],1)])])])},a=[],s=n("c7eb"),i=n("1da1"),c=(n("4de4"),n("d3b7"),n("d81d"),n("159b"),n("14d9"),n("99af"),n("a15b"),n("e9c4"),n("c4b9")),u=n("403a"),o=n("0f37"),f={name:"",data:function(){return{totalScore:0,questionType:"",userId:"",listData:[],scoreListData:[],queryData:{}}},mounted:function(){},created:function(){this.userId=this.$route.query.userId,this.queryData=this.$route.query,this.getData()},methods:{getData:function(){var t=this;return Object(i["a"])(Object(s["a"])().mark((function e(){var n,r,a,i,u;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["m"])({paperid:t.queryData.paperid});case 2:return n=e.sent,r=0,a=((n.data||{}).questionArr||[]).filter((function(t,e){return t.questionList=t.questionList.map((function(t){return r++,t.px=r,t})),4==t.type&&(t.questionList=t.questionList.filter((function(t){return 2==t.way}))),5==t.type||4==t.type&&t.questionList.some((function(t){return 2==t.way}))})),e.next=7,Object(c["e"])({answerid:t.queryData.answerid});case 7:i=e.sent,u=t.getListStorage(),t.totalScore=0,t.listData=a.map((function(e){return e.questionList=e.questionList.map((function(n){return n.score=e.score,(i.data||[]).forEach((function(t){if(t.questionid==n.questionid){var e=[];for(var r in t.answer)e.push(" ".concat(r,"： ").concat(t.answer[r]," "));n.ksxxnr="<p>".concat(e.join("<br/><br/>"),"</p>")}})),n.scoreValue="",u.forEach((function(e){e.userId===t.userId&&e.questionId===n.questionid&&(n.scoreValue=e.score,t.totalScore+=isNaN(parseInt(e.score))?0:parseInt(e.score))})),n})),e.name=o["a"][e.type],e})),t.questionType=t.listData[0]?t.listData[0].bigid:"",t.scoreListData=t.listData[0];case 13:case"end":return e.stop()}}),e)})))()},inputChange:function(t,e){var n=this;parseInt(t)>e.score&&u["a"].showMessage("超过该题的最大分值"),parseInt(t)<0&&u["a"].showMessage("请输入正数值"),this.totalScore=0;var r=this.getListStorage()||[];this.listData=this.listData.map((function(a){return a.questionList=a.questionList.map((function(a){a.questionid===e.questionid&&(a.scoreValue=parseInt(t)>e.score?e.score:parseInt(t)<0?0:t),n.totalScore+=isNaN(parseInt(a.scoreValue))?0:parseInt(a.scoreValue);var s=r.filter((function(t){return t.userId===n.userId&&t.questionId===a.questionid}));return s.length?s[0].score=a.scoreValue:r.push({questionId:a.questionid,userId:n.userId,score:a.scoreValue}),a})),a})),this.scoreListData=this.listData.filter((function(t){return t.bigid===n.questionType}))[0],this.setListStorage(r)},submitScore:function(){var t=this;return Object(i["a"])(Object(s["a"])().mark((function e(){var n,r,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=[],r=_.cloneDeep(t.listData),r.forEach((function(t){t.questionList.forEach((function(t){n.push({type:t.type,questionid:t.questionid,score:t.score,scoreValue:t.scoreValue})}))})),a=n.filter((function(t){return 0!==parseInt(t.scoreValue)&&!t.scoreValue})),!a.length){e.next=6;break}return e.abrupt("return",u["a"].showMessage("请全部题目打完分后再进行提交！"));case 6:t.$confirm("所有题目都已阅卷完成，是否确认提交分数?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"success"}).then((function(){t.submitFun(n)}));case 7:case"end":return e.stop()}}),e)})))()},submitFun:function(){var t=arguments,e=this;return Object(i["a"])(Object(s["a"])().mark((function n(){var r,a,i;return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:[],a={answerid:e.queryData.answerid,planid:e.queryData.planid,subjectcode:e.queryData.subjectcode,idcard:e.$store.state.user.user.idcard,paperid:e.queryData.paperid,arrlist:JSON.stringify(r)},n.next=4,Object(c["q"])(a);case 4:i=n.sent,"200"==i.state?(u["a"].showMessage(i.msg,"success"),setTimeout((function(){e.$router.push({name:"entrance"})}),1800)):u["a"].showMessage(i.msg);case 6:case"end":return n.stop()}}),n)})))()},handleTabClick:function(t){var e=this;this.scoreListData=this.listData.filter((function(t){return t.bigid===e.questionType}))[0]},setListStorage:function(t){window.localStorage.setItem("markInfo",JSON.stringify(t))},getListStorage:function(){var t=window.localStorage.getItem("markInfo");return t?JSON.parse(t):[]}}},p=f,l=(n("737e"),n("2877")),d=Object(l["a"])(p,r,a,!1,null,"62ddcea0",null);e["default"]=d.exports},c4b9:function(t,e,n){"use strict";n.d(e,"h",(function(){return u})),n.d(e,"g",(function(){return o})),n.d(e,"j",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"i",(function(){return l})),n.d(e,"k",(function(){return d})),n.d(e,"c",(function(){return b})),n.d(e,"l",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"p",(function(){return w})),n.d(e,"o",(function(){return v})),n.d(e,"n",(function(){return j})),n.d(e,"d",(function(){return O})),n.d(e,"f",(function(){return g})),n.d(e,"e",(function(){return y})),n.d(e,"q",(function(){return k})),n.d(e,"m",(function(){return x}));var r=n("c7eb"),a=n("1da1"),s=n("b775"),i=n("4328"),c=n.n(i),u=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getendplan",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getendplandetail",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getmarkteacher",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/clearmarkteacher",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getendplansubject",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getmarkteacherbyid",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/distributemarktask",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getmarkteachertask",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/changemarkteachertask",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/resetmarkteachertask",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/markstateconfirm",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getsubjectbyid",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getanswerbyid",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getanswertotalbyid",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getanswercontentbyid",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/submitscore",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(a["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s["a"])({url:"marking/getpapercontentbyid",method:"post",data:c.a.stringify(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d86b:function(t,e,n){var r=n("d039");t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},dca8:function(t,e,n){var r=n("23e7"),a=n("bb2f"),s=n("d039"),i=n("861d"),c=n("f183").onFreeze,u=Object.freeze,o=s((function(){u(1)}));r({target:"Object",stat:!0,forced:o,sham:!a},{freeze:function(t){return u&&i(t)?u(c(t)):t}})},f183:function(t,e,n){var r=n("23e7"),a=n("e330"),s=n("d012"),i=n("861d"),c=n("1a2d"),u=n("9bf2").f,o=n("241c"),f=n("057f"),p=n("4fad"),l=n("90e3"),d=n("bb2f"),b=!1,h=l("meta"),m=0,w=function(t){u(t,h,{value:{objectID:"O"+m++,weakData:{}}})},v=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!c(t,h)){if(!p(t))return"F";if(!e)return"E";w(t)}return t[h].objectID},j=function(t,e){if(!c(t,h)){if(!p(t))return!0;if(!e)return!1;w(t)}return t[h].weakData},O=function(t){return d&&b&&p(t)&&!c(t,h)&&w(t),t},g=function(){y.enable=function(){},b=!0;var t=o.f,e=a([].splice),n={};n[h]=1,t(n).length&&(o.f=function(n){for(var r=t(n),a=0,s=r.length;a<s;a++)if(r[a]===h){e(r,a,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},y=t.exports={enable:g,fastKey:v,getWeakData:j,onFreeze:O};s[h]=!0}}]);